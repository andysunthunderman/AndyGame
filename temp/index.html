<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¸æˆé›†åˆByAndy3re</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .game-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            overflow: hidden;
            margin: 20px;
            width: 380px;
        }
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(245, 113, 113, 0.2);
        }
        .game-image {
            height: 240px;
            background-size: cover;
            background-position: center;
        }
        .minesweeper {
            background-image: url('images/minesweeper.png');
        }
        .tank {
            background-image: url('images/tank.png');
        }
        .plane {
            background-image: url('images/plane.png');
        }
        .snake {
            background-image: url('images/snake.png');
        }
        .fishing {
            background-image: url('images/fishing.png');
        }
        .football {
            background-image: url('images/fishing.png');
        }
        .typing {
            background-image: url('images/typing.png');
        }
        /* æ·»åŠ è¯´æ˜ä¹¦æŒ‰é’®æ ·å¼ */
        .manual-button {
            position: fixed;
            top: 20px;
            right: 20px;
            left: auto;
            transform: none;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .manual-button:hover {
            background: #4a90e2;
            color: white;
        }
        /* æ·»åŠ æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }
        .modal-content {
            position: relative;
            width: 80%;
            height: 80%;
            margin: 5% auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            overflow-y: auto;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .close-button:hover {
            color: #000;
        }
        #readme-content {
            padding: 20px;
            line-height: 1.6;
        }
        /* æ·»åŠ æœç´¢æ¡†æ ·å¼ */
        .search-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .search-box {
            width: 100%;
            padding: 12px 24px;
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 30px;
            font-size: 16px;
            color: #333;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .search-box:focus {
            outline: none;
            border-color: #357abd;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .search-box::placeholder {
            color: #999;
        }
        .no-results {
            text-align: center;
            color: #666;
            margin: 20px 0;
            display: none;
        }
        /* æ·»åŠ å¤©æ°”æŒ‰é’®å’Œæ¨¡æ€æ¡†æ ·å¼ */
        .weather-button {
            position: fixed;
            top: 20px;
            right: 180px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .weather-button:hover {
            background: #4a90e2;
            color: white;
        }
        .weather-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }
        .weather-content {
            position: relative;
            width: 300px;
            margin: 15% auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            text-align: center;
        }
        .weather-info {
            margin: 20px 0;
            font-size: 16px;
            line-height: 1.6;
        }
        .weather-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .weather-close:hover {
            color: #000;
        }
        /* ä¿®æ”¹æ—¶é—´æ˜¾ç¤ºæ ·å¼ */
        .datetime-container {
            position: fixed;
            top: 70px;
            right: 20px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            min-width: 200px;
            transition: all 0.3s ease;
        }
        .datetime-container:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        .datetime-container .date {
            font-size: 14px;
            margin-bottom: 4px;
            color: #357abd;
        }
        .datetime-container .time {
            font-size: 18px;
            font-weight: bold;
            color: #4a90e2;
        }
        /* æ·»åŠ ç”¨æˆ·ç™»å½•æŒ‰é’®æ ·å¼ */
        .user-auth-button {
            position: fixed;
            top: 20px;
            right: 340px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .user-auth-button:hover {
            background: #4a90e2;
            color: white;
        }
        /* æ·»åŠ ç”¨æˆ·è®¤è¯æ¨¡æ€æ¡†æ ·å¼ */
        .user-auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }
        .user-auth-content {
            position: relative;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            border: none;
        }
        /* æ·»åŠ ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºæ ·å¼ */
        .user-info {
            position: fixed;
            top: 20px;
            right: 340px;
            display: none;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .user-info:hover {
            background: #4a90e2;
            color: white;
        }
        .user-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 8px;
            vertical-align: middle;
        }
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1001;
        }
        .user-dropdown-item {
            padding: 8px 16px;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }
        .user-dropdown-item:hover {
            background: #f7fafc;
            color: #4a90e2;
        }
        .user-dropdown-divider {
            height: 1px;
            background: #e2e8f0;
            margin: 4px 0;
        }
        /* æ·»åŠ ç®¡ç†åå°æŒ‰é’®æ ·å¼ */
        .admin-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 20px;
            color: #4a90e2;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-decoration: none;
        }
        .admin-button:hover {
            background: #4a90e2;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="p-8">
    <script>
        // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
        function checkLogin() {
            const currentPlayer = localStorage.getItem('currentPlayer');
            if (!currentPlayer) {
                window.location.href = 'user-login.html';
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€
        document.addEventListener('DOMContentLoaded', checkLogin);
    </script>
    <!-- æ·»åŠ æ—¶é—´æ˜¾ç¤ºå®¹å™¨ -->
    <div class="datetime-container">
        <div class="date" id="currentDate">åŠ è½½ä¸­...</div>
        <div class="time" id="currentTime">åŠ è½½ä¸­...</div>
    </div>
    <!-- æ·»åŠ ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º -->
    <div class="user-info" id="userInfo">
        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="ç”¨æˆ·å¤´åƒ" class="user-avatar" id="userAvatar">
        <span id="userNickname">æ¸¸å®¢</span>
        <div class="user-dropdown" id="userDropdown">
            <div class="user-dropdown-item" id="profileBtn">ä¸ªäººèµ„æ–™</div>
            <div class="user-dropdown-divider"></div>
            <div class="user-dropdown-item" id="logoutBtn">é€€å‡ºç™»å½•</div>
        </div>
    </div>
    <button class="manual-button" id="manualBtn">æ¸¸æˆè¯´æ˜ä¹¦</button>
    <button class="weather-button" id="weatherBtn">æŸ¥çœ‹å¤©æ°”</button>
    <button class="user-auth-button" id="userAuthBtn">ç”¨æˆ·ç™»å½•</button>
    
    <!-- æ·»åŠ æœç´¢æ¡† -->
    <div class="search-container">
        <input type="text" class="search-box" id="searchBox" placeholder="æœç´¢æ¸¸æˆ...">
    </div>
    <div class="no-results" id="noResults">
        æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ¸¸æˆ
    </div>
    
    <!-- æ·»åŠ æ¨¡æ€æ¡† -->
    <div id="manualModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeBtn">&times;</span>
            <div id="readme-content"></div>
        </div>
    </div>
    
    <!-- æ·»åŠ å¤©æ°”æ¨¡æ€æ¡† -->
    <div id="weatherModal" class="weather-modal">
        <div class="weather-content">
            <span class="weather-close" id="weatherClose">&times;</span>
            <h2 class="text-xl font-bold mb-4">å½“å‰å¤©æ°”</h2>
            <div id="weatherInfo" class="weather-info">
                æ­£åœ¨è·å–å¤©æ°”ä¿¡æ¯...
            </div>
        </div>
    </div>
    
    <!-- æ·»åŠ ç”¨æˆ·è®¤è¯æ¨¡æ€æ¡† -->
    <div id="userAuthModal" class="user-auth-modal">
        <iframe src="user-auth.html" class="user-auth-content" frameborder="0"></iframe>
    </div>
    
    <h1 class="text-4xl font-bold mb-8 text-gray-800 animate__animated animate__fadeIn">æˆ‘çš„æ¸¸æˆé›†åˆBy Andy3re</h1>
    
    <div class="flex flex-wrap justify-center" style="max-width: 1280px; margin: 0 auto;">
        <!-- æ‰«é›·æ¸¸æˆå¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image minesweeper"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">æ‰«é›·æ¸¸æˆ</h2>
                <p class="text-gray-600 mb-4">ç»å…¸çš„æ‰«é›·æ¸¸æˆï¼Œè€ƒéªŒä½ çš„é€»è¾‘æ€ç»´å’Œè¿æ°”ï¼</p>
                <a href="andy.mine.html" class="block w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>
        
        <!-- å¦å…‹å¯¹æˆ˜å¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image tank"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">å¤šäººå¦å…‹å¯¹æˆ˜</h2>
                <p class="text-gray-600 mb-4">æ§åˆ¶ä½ çš„å¦å…‹ï¼Œåœ¨æˆ˜åœºä¸Šä¸å…¶ä»–ç©å®¶å¯¹æˆ˜ï¼</p>
                <a href="tank.html" class="block w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>
        
        <!-- é£æœºå¤§æˆ˜å¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image plane"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">é£æœºå¤§æˆ˜</h2>
                <p class="text-gray-600 mb-4">æ§åˆ¶ä½ çš„é£æœºï¼Œèº²é¿æ•Œäººçš„æ”»å‡»å¹¶å‡»è½æ•Œæœºï¼</p>
                <a href="plane.html" class="block w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>

        <!-- è´ªåƒè›‡æ¸¸æˆå¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image snake"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">è´ªåƒè›‡</h2>
                <p class="text-gray-600 mb-4">ç»å…¸çš„è´ªåƒè›‡æ¸¸æˆï¼Œæ§åˆ¶è›‡åƒé£Ÿç‰©å¹¶æˆé•¿ï¼</p>
                <a href="snake.html" class="block w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>

        <!-- æ•é±¼æ¸¸æˆå¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image fishing"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">æ·±æµ·æ•é±¼</h2>
                <p class="text-gray-600 mb-4">ä½“éªŒåˆºæ¿€çš„æ·±æµ·æ•é±¼ï¼Œæ”¶é›†å„ç§ç¨€æœ‰é±¼ç±»ï¼</p>
                <a href="fishing.html" class="block w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>

  

        <!-- æ‰“å­—æ¸¸æˆå¡ç‰‡ -->
        <div class="game-card">
            <div class="game-image typing"></div>
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-2">æ‰“å­—æŒ‘æˆ˜</h2>
                <p class="text-gray-600 mb-4">æå‡ä½ çš„æ‰“å­—é€Ÿåº¦å’Œå‡†ç¡®ç‡ï¼ŒæŒ‘æˆ˜è‡ªæˆ‘ï¼</p>
                <a href="typing.html" class="block w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded text-center transition duration-300">
                    å¼€å§‹æ¸¸æˆ
                </a>
            </div>
        </div>
    </div>
    
    <footer class="mt-12 text-center text-gray-600">
        <p>Â© 2025 æ¸¸æˆé›†åˆ - å°½æƒ…äº«å—æ¸¸æˆçš„ä¹è¶£ï¼</p>
        <a href="test-login.html" class="admin-button">ç®¡ç†åå°</a>
    </footer>


    <script>
        // ç­‰å¾…DOMåŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('manualModal');
            const btn = document.getElementById('manualBtn');
            const closeBtn = document.getElementById('closeBtn');
            const content = document.getElementById('readme-content');
            const searchBox = document.getElementById('searchBox');
            const noResults = document.getElementById('noResults');
            const gameCards = document.querySelectorAll('.game-card');
            const weatherBtn = document.getElementById('weatherBtn');
            const weatherModal = document.getElementById('weatherModal');
            const weatherClose = document.getElementById('weatherClose');
            const weatherInfo = document.getElementById('weatherInfo');
            const dateElement = document.getElementById('currentDate');
            const timeElement = document.getElementById('currentTime');
            const userAuthBtn = document.getElementById('userAuthBtn');
            const userAuthModal = document.getElementById('userAuthModal');
            const userInfo = document.getElementById('userInfo');
            const userDropdown = document.getElementById('userDropdown');
            const userNickname = document.getElementById('userNickname');
            const userAvatar = document.getElementById('userAvatar');
            const logoutBtn = document.getElementById('logoutBtn');
            const profileBtn = document.getElementById('profileBtn');

            // æ›´æ–°æ—¶é—´çš„å‡½æ•°
            function updateDateTime() {
                const now = new Date();
                const options = {
                    timeZone: 'Asia/Shanghai',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    weekday: 'long'
                };
                const timeOptions = {
                    timeZone: 'Asia/Shanghai',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: false
                };
                
                dateElement.textContent = now.toLocaleDateString('zh-CN', options);
                timeElement.textContent = now.toLocaleTimeString('zh-CN', timeOptions);
            }

            // åˆå§‹æ›´æ–°æ—¶é—´
            updateDateTime();
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¶é—´
            setInterval(updateDateTime, 1000);

            // æœç´¢åŠŸèƒ½å®ç°
            searchBox.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                let hasResults = false;

                gameCards.forEach(card => {
                    const title = card.querySelector('h2').textContent.toLowerCase();
                    const description = card.querySelector('p').textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || description.includes(searchTerm)) {
                        card.style.display = 'block';
                        hasResults = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                noResults.style.display = hasResults ? 'none' : 'block';
            });

            // README.md å†…å®¹
            const readmeContent = `# æ¸¸æˆé›†åˆé¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªAndy3reä½¿ç”¨HTML5ã€CSS3å’ŒJavaScriptå¼€å‘çš„ç½‘é¡µæ¸¸æˆé›†åˆé¡¹ç›®ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„WebæŠ€æœ¯æ ˆï¼Œæä¾›å¤šä¸ªç»å…¸å°æ¸¸æˆçš„åœ¨çº¿ä½“éªŒã€‚

## é¡¹ç›®ç‰¹ç‚¹

- ğŸ® å¤šä¸ªç»å…¸æ¸¸æˆé›†åˆ
- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡
- ğŸ“± å“åº”å¼å¸ƒå±€
- ğŸš€ æ— éœ€å®‰è£…ï¼Œå³å¼€å³ç©
- ğŸ’» çº¯å‰ç«¯å®ç°ï¼Œæ— åç«¯ä¾èµ–

## æ¸¸æˆåˆ—è¡¨

1. **æ‰«é›·æ¸¸æˆ**
   - ç»å…¸çš„é€»è¾‘æ¨ç†æ¸¸æˆ
   - éš¾åº¦å¯è°ƒæ•´
   - éŸ³æ•ˆåé¦ˆç³»ç»Ÿ

2. **å¦å…‹å¯¹æˆ˜**
   - å¤šäººå¯¹æˆ˜æ¨¡å¼
   - å®æ—¶æ§åˆ¶ç³»ç»Ÿ
   - éŸ³æ•ˆåé¦ˆç³»ç»Ÿ

3. **é£æœºå¤§æˆ˜**
   - ç»å…¸å°„å‡»æ¸¸æˆ
   - å…³å¡è¿›é˜¶ç³»ç»Ÿ
   - ç²’å­ç‰¹æ•ˆç³»ç»Ÿ
   - é«˜åˆ†è®°å½•ç³»ç»Ÿ

4. **è´ªåƒè›‡**
   - ç»å…¸æˆé•¿ç±»æ¸¸æˆ
   - ç®€å•æ˜“ä¸Šæ‰‹

5. **æ·±æµ·æ•é±¼**
   - ä¼‘é—²å¨±ä¹æ¸¸æˆ
   - è®¡åˆ†ç³»ç»Ÿ
   - æ—¶é—´é™åˆ¶æ¨¡å¼

6. **åŒäººè¶³çƒ**
   - åŒäººå¯¹æˆ˜æ¨¡å¼
   - å®æ—¶ç‰©ç†å¼•æ“
   - è®¡åˆ†ç³»ç»Ÿ
   - æµç•…çš„æ“æ§ä½“éªŒ

## æ¸¸æˆç©æ³•æŒ‡å—

### 1. æ‰«é›·æ¸¸æˆ
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šæ‰¾å‡ºæ‰€æœ‰éåœ°é›·çš„æ ¼å­ï¼Œé¿å…è§¦ç¢°åœ°é›·
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - å·¦é”®ç‚¹å‡»ï¼šæ­å¼€æ ¼å­
  - ç‚¹å‡»æ ‡è®°åœ°é›·æŒ‰é’®ï¼šæ ‡è®°åœ°é›·
  - å³ä¸Šè§’è¿”å›æŒ‰é’®ï¼šè¿”å›ä¸»é¡µ

### 2. å¦å…‹å¯¹æˆ˜
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šåœ¨æˆ˜åœºä¸Šæ¶ˆç­å…¶ä»–ç©å®¶çš„å¦å…‹
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - æ–¹å‘é”®ï¼šæ§åˆ¶å¦å…‹ç§»åŠ¨
  - ç©ºæ ¼é”®ï¼šå‘å°„ç‚®å¼¹
  - å³ä¸Šè§’è¿”å›æŒ‰é’®ï¼šè¿”å›ä¸»é¡µ

### 3. é£æœºå¤§æˆ˜
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šå‡»è½æ•Œæœºï¼Œè·å–é«˜åˆ†
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - w/a/s/dï¼šæ§åˆ¶é£æœºä½ç½®
  - ç©ºæ ¼é”®ï¼šå‘å°„å­å¼¹
  - Eé”®ï¼šæš‚åœ/ç»§ç»­æ¸¸æˆ

### 4. è´ªåƒè›‡
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šæ§åˆ¶è›‡åƒé£Ÿç‰©æˆé•¿ï¼Œé¿å…ç¢°æ’
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - æ–¹å‘é”®ï¼šæ§åˆ¶è›‡çš„ç§»åŠ¨æ–¹å‘

### 5. æ·±æµ·æ•é±¼
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šåœ¨é™æ—¶å†…æ•è·å°½å¯èƒ½å¤šçš„é±¼
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - é¼ æ ‡å·¦å³ç§»åŠ¨ï¼šæ§åˆ¶æ•é±¼å™¨ä½ç½®
  - æŒ‰ä½é¼ æ ‡å·¦é”®ï¼šä¼¸å‡ºé’“é±¼çº¿
  - æ¾å¼€é¼ æ ‡å·¦é”®ï¼šæ”¶å›é’“é±¼çº¿

### 6. åŒäººè¶³çƒ
- ğŸ¯ **æ¸¸æˆç›®æ ‡**ï¼šæ§åˆ¶çƒå‘˜è¿›çƒå¾—åˆ†ï¼Œé¦–å…ˆè¾¾åˆ°ç›®æ ‡åˆ†æ•°çš„ç©å®¶è·èƒœ
- ğŸ“ **æ“ä½œæ–¹å¼**ï¼š
  - ç©å®¶1ï¼šW/S é”®æ§åˆ¶ä¸Šä¸‹ç§»åŠ¨
  - ç©å®¶2ï¼šâ†‘/â†“ æ–¹å‘é”®æ§åˆ¶ä¸Šä¸‹ç§»åŠ¨
  - å‡»çƒæ—¶çš„è§’åº¦å†³å®šçƒçš„è¿åŠ¨æ–¹å‘
  - å®æ—¶æ˜¾ç¤ºæ¯”åˆ†

## é€šç”¨åŠŸèƒ½

- ğŸ  **è¿”å›ä¸»é¡µ**ï¼šæ‰€æœ‰æ¸¸æˆç•Œé¢å³ä¸Šè§’éƒ½è®¾æœ‰"è¿”å›ä¸»é¡µ"æŒ‰é’®
- ğŸ® **ç»Ÿä¸€ç•Œé¢**ï¼šæ‰€æœ‰æ¸¸æˆä¿æŒä¸€è‡´çš„ç•Œé¢é£æ ¼å’Œæ“ä½œé€»è¾‘
- ğŸ”„ **é‡æ–°å¼€å§‹**ï¼šæ¯ä¸ªæ¸¸æˆéƒ½æä¾›é‡æ–°å¼€å§‹åŠŸèƒ½
- â¸ï¸ **æš‚åœåŠŸèƒ½**ï¼šéƒ¨åˆ†æ¸¸æˆæ”¯æŒæš‚åœæ“ä½œ

Â© 2025 æ¸¸æˆé›†åˆ - ä¿ç•™æ‰€æœ‰æƒåˆ©`;

            // ç‚¹å‡»æŒ‰é’®æ‰“å¼€æ¨¡æ€æ¡†
            btn.addEventListener('click', function() {
                try {
                    // ç¡®ä¿markedå·²ç»åŠ è½½
                    if (typeof marked === 'undefined') {
                        throw new Error('Marked.js æœªèƒ½æ­£ç¡®åŠ è½½');
                    }
                    content.innerHTML = marked.parse(readmeContent);
                    modal.style.display = 'block';
                } catch (error) {
                    console.error('åŠ è½½è¯´æ˜ä¹¦æ—¶å‡ºé”™:', error);
                    alert('é¡µé¢èµ„æºåŠ è½½ä¸å®Œæ•´ï¼Œè¯·åˆ·æ–°é¡µé¢åé‡è¯•');
                }
            });

            // ç‚¹å‡»å…³é—­æŒ‰é’®
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
            });

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // ä¿®æ”¹å¤©æ°”æŸ¥è¯¢åŠŸèƒ½ï¼Œæ·»åŠ ä½ç½®è®°å½•
            async function getWeather() {
                try {
                    // å…ˆè·å–ä½ç½®ä¿¡æ¯
                    const position = await new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(resolve, reject);
                    });

                    const { latitude, longitude } = position.coords;
                    
                    // ä½¿ç”¨å’Œé£å¤©æ°” API
                    const apiKey = 'eaf13cf8435b479ea03f4cb95506f413';
                    const locationResponse = await fetch(`https://geoapi.qweather.com/v2/city/lookup?location=${longitude},${latitude}&key=${apiKey}`);
                    
                    if (!locationResponse.ok) {
                        throw new Error('ä½ç½®ä¿¡æ¯è·å–å¤±è´¥');
                    }

                    const locationData = await locationResponse.json();
                    const cityName = locationData.location?.[0]?.name || 'æœªçŸ¥åŸå¸‚';
                    const countryName = locationData.location?.[0]?.country || 'æœªçŸ¥å›½å®¶';
                    
                    // ä¿å­˜ä½ç½®ä¿¡æ¯åˆ°æ•°æ®åº“
                    try {
                        const user = JSON.parse(localStorage.getItem('user'));
                        const userId = user ? user.id : null;
                        
                        const saveLocationResponse = await fetch('/api/data?action=save_location', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                latitude,
                                longitude,
                                city: cityName,
                                country: countryName,
                                userId
                            })
                        });

                        const saveResult = await saveLocationResponse.json();
                        if (!saveResult.success) {
                            console.error('ä½ç½®ä¿¡æ¯ä¿å­˜å¤±è´¥:', saveResult.error);
                        }
                    } catch (error) {
                        console.error('ä¿å­˜ä½ç½®ä¿¡æ¯æ—¶å‡ºé”™:', error);
                    }

                    // è·å–å¤©æ°”ä¿¡æ¯
                    const weatherResponse = await fetch(`https://devapi.qweather.com/v7/weather/now?location=${longitude},${latitude}&key=${apiKey}`);
                    
                    if (!weatherResponse.ok) {
                        throw new Error('å¤©æ°”æ•°æ®è·å–å¤±è´¥');
                    }

                    const weatherData = await weatherResponse.json();
                    
                    if (weatherData.code === '200') {
                        // æ›´æ–°å¤©æ°”ä¿¡æ¯æ˜¾ç¤º
                        weatherInfo.innerHTML = `
                            <p>åŸå¸‚ï¼š${cityName}</p>
                            <p>æ¸©åº¦ï¼š${weatherData.now.temp}Â°C</p>
                            <p>å¤©æ°”ï¼š${weatherData.now.text}</p>
                            <p>ç›¸å¯¹æ¹¿åº¦ï¼š${weatherData.now.humidity}%</p>
                            <p>ä½“æ„Ÿæ¸©åº¦ï¼š${weatherData.now.feelsLike}Â°C</p>
                            <p>é£å‘ï¼š${weatherData.now.windDir}</p>
                            <p>é£é€Ÿï¼š${weatherData.now.windSpeed}km/h</p>
                        `;
                    } else {
                        throw new Error('å¤©æ°”æ•°æ®è·å–å¤±è´¥');
                    }
                } catch (error) {
                    weatherInfo.innerHTML = 'æ— æ³•è·å–å¤©æ°”ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥ä½ç½®æƒé™æˆ–ç¨åé‡è¯•ã€‚';
                    console.error('è·å–å¤©æ°”ä¿¡æ¯å¤±è´¥:', error);
                }
            }

            // ç‚¹å‡»å¤©æ°”æŒ‰é’®
            weatherBtn.addEventListener('click', function() {
                weatherModal.style.display = 'block';
                getWeather();
            });

            // å…³é—­å¤©æ°”æ¨¡æ€æ¡†
            weatherClose.addEventListener('click', function() {
                weatherModal.style.display = 'none';
            });

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', function(event) {
                if (event.target === weatherModal) {
                    weatherModal.style.display = 'none';
                }
            });

            // æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
            function updateUserInfo() {
                const user = JSON.parse(localStorage.getItem('user'));
                if (user) {
                    userAuthBtn.style.display = 'none';
                    userInfo.style.display = 'inline-flex';
                    userNickname.textContent = user.nickname || user.username;
                    // ä½¿ç”¨ç”¨æˆ·åç”Ÿæˆå”¯ä¸€å¤´åƒ
                    userAvatar.src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.username}`;
                } else {
                    userAuthBtn.style.display = 'inline-block';
                    userInfo.style.display = 'none';
                    // é‡æ–°ç»‘å®šç™»å½•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
                    initializeAuthButton();
                }
            }

            // åˆå§‹åŒ–ç”¨æˆ·ç™»å½•æŒ‰é’®
            function initializeAuthButton() {
                userAuthBtn.addEventListener('click', function() {
                    userAuthModal.style.display = 'block';
                });
            }

            // åˆå§‹åŒ–æ—¶æ›´æ–°ç”¨æˆ·ä¿¡æ¯å’Œç»‘å®šäº‹ä»¶
            updateUserInfo();
            initializeAuthButton();

            // ç”¨æˆ·ä¿¡æ¯ç‚¹å‡»äº‹ä»¶
            userInfo.addEventListener('click', function(event) {
                event.stopPropagation();
                userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
            });

            // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­ä¸‹æ‹‰èœå•
            document.addEventListener('click', function() {
                userDropdown.style.display = 'none';
            });

            // é€€å‡ºç™»å½•
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('user');
                localStorage.removeItem('playerName');
                updateUserInfo();
                window.location.reload(); // åˆ·æ–°é¡µé¢ä»¥é‡ç½®æ‰€æœ‰çŠ¶æ€
            });

            // ä¸ªäººèµ„æ–™
            profileBtn.addEventListener('click', function() {
                // TODO: å®ç°ä¸ªäººèµ„æ–™é¡µé¢
                alert('ä¸ªäººèµ„æ–™åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...');
            });

            // ç›‘å¬æ¥è‡ª iframe çš„æ¶ˆæ¯
            window.addEventListener('message', function(event) {
                if (event.data === 'closeAuthModal') {
                    userAuthModal.style.display = 'none';
                    updateUserInfo(); // æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
                }
            });
        });
    </script>
    <!-- ç¡®ä¿ Marked.js æ­£ç¡®åŠ è½½ -->
    <script src="https://cdn.jsdelivr.net/npm/marked@4.0.0/marked.min.js"></script>
</body>
</html> 